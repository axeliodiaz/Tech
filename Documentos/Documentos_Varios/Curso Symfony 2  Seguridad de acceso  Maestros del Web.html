<!DOCTYPE html>
<!-- saved from url=(0075)http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/ -->
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Curso Symfony 2: Seguridad de acceso |Maestros del Web</title>
<meta name="description" content="Maestros del web">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<script data-rocketsrc="http://static.evernote.com/noteit.js" data-rocketoptimized="true"></script><script data-rocketsrc="https://apis.google.com/_/scs/apps-static/_/js/k=oz.gapi.es_419.uxk59TaIxRg.O/m=auth/exm=plusone/rt=j/sv=1/d=1/ed=1/am=AQ/rs=AItRSTP3zrRNntwqTE0yuGgVuaLw14-G8Q/cb=gapi.loaded_1" data-rocketoptimized="true" async=""></script><script data-rocketsrc="https://apis.google.com/_/scs/apps-static/_/js/k=oz.gapi.es_419.uxk59TaIxRg.O/m=plusone/rt=j/sv=1/d=1/ed=1/am=AQ/rs=AItRSTP3zrRNntwqTE0yuGgVuaLw14-G8Q/cb=gapi.loaded_0" data-rocketoptimized="true" async=""></script><script type="text/javascript" async="" data-rocketsrc="https://apis.google.com/js/plusone.js" data-rocketoptimized="true" gapi_processed="true"></script><script id="facebook-jssdk" data-rocketsrc="//connect.facebook.net/en_US/all.js#appId=269602203058716&amp;xfbml=1" data-rocketoptimized="true"></script><script type="text/javascript" async="" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/ga.js"></script><script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:1394663293,byc:0,owlid:"cf",bag2:1,mirage2:{profile:false},oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"d774ccea443ce38fb5bd90469f8b889c",petok:"c84a176ca58248765c234b9cf62972a66f0ac8a5-1395535237-1800",zone:"maestrosdelweb.com",rocket:"a",apps:{"ga_key":{"ua":"UA-309831-1","ga_bs":"2"}}}];document.write('<script type="text/javascript" src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=b064e16429/cloudflare.min.js"><'+'\/script>');}}catch(e){};
//]]>
</script><script type="text/javascript" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/cloudflare.min.js"></script><style type="text/css">.cf-hidden { display: none; } .cf-invisible { visibility: hidden; }</style><script data-module="cloudflare/rocket" id="cfjs_block_112da8f38c9" onload="CloudFlare.__cfjs_block_112da8f38c9_load()" onerror="CloudFlare.__cfjs_block_112da8f38c9_error()" onreadystatechange="CloudFlare.__cfjs_block_112da8f38c9_readystatechange()" type="text/javascript" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/rocket.js"></script>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="author" href="http://www.maestrosdelweb.com/wp-content/themes/mdw4/humans.txt">
<link rel="shortcut icon" href="http://www.maestrosdelweb.com/wp-content/themes/mdw4/imgs/favicon.ico" type="image/x-icon">
<link rel="pingback" href="http://www.maestrosdelweb.com/xmlrpc.php">
<link rel="alternate" type="application/rss+xml" title="Maestros del Web RSS Feed" href="http://www.maestrosdelweb.com/feed/">
<link rel="alternate" type="application/atom+xml" title="Maestros del Web Atom Feed" href="http://www.maestrosdelweb.com/feed/atom/">
<link rel="alternate" type="application/rss+xml" title="Maestros del Web Comentarios RSS Feed" href="http://www.maestrosdelweb.com/comments/feed/">
 
<link rel="canonical" href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/Curso Symfony 2  Seguridad de acceso  Maestros del Web.html">
<meta property="og:locale" content="es_ES">
<meta property="og:type" content="article">
<meta property="og:title" content="Curso Symfony 2: Seguridad de acceso -">
<meta property="og:description" content="Uno de los aspectos más importantes en el desarrollo de cualquier aplicación es la Seguridad de acceso, para ello Symfony 2 dispone de una moderna librería que se encarga de las validaciones de acceso y seguridad. En este capítulo nos dispondremos a crear un ejemplo básico de seguridad que nos permita hacer el “login” de …">
<meta property="og:url" content="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/">
<meta property="og:site_name" content="Maestros del Web">
<meta property="article:tag" content="access control">
<meta property="article:tag" content="capitulo13">
<meta property="article:tag" content="firewall">
<meta property="article:tag" content="framework">
<meta property="article:tag" content="security">
<meta property="article:tag" content="Seguridad">
<meta property="article:tag" content="symfony 2">
<meta property="article:tag" content="symfony2">
<meta property="article:section" content="Editorial">
<meta property="article:section" content="Symfony">
<meta property="article:published_time" content="2012-05-23T10:07:52+00:00">
<meta property="article:modified_time" content="2012-05-23T10:07:29+00:00">
 
<link rel="stylesheet" id="mailchimpSF_main_css-css" href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/saved_resource" type="text/css" media="all">
<!--[if IE]>
<link rel='stylesheet' id='mailchimpSF_ie_css-css'  href='http://www.maestrosdelweb.com/wp-content/plugins/mailchimp/css/ie.css?ver=3.8.1' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="jetpack-widgets-css" href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/widgets.css" type="text/css" media="all">
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-includes/js/jquery/jquery.js?ver=1.10.2" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-content/plugins/mailchimp/js/scrollTo.js?ver=1.4.1" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-includes/js/jquery/jquery.form.min.js?ver=3.37.0" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketoptimized="true">
/* <![CDATA[ */
var mailchimpSF = {"ajax_url":"http:\/\/www.maestrosdelweb.com\/"};
/* ]]> */
</script>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-content/plugins/mailchimp/js/mailchimp.js?ver=1.4.1" data-rocketoptimized="true"></script>
<meta name="description" content="Uno de los aspectos más importantes en el desarrollo de cualquier aplicación es la Seguridad de acceso, para ello Symfony ...">
<style type="text/css">img#wpstats{display:none}</style> <link rel="stylesheet" href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/symfony.css" type="text/css" media="screen">
<style type="text/css" id="syntaxhighlighteranchor"></style>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-content/themes/mdw4/scripts/jquery.scrollorama.js" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-content/themes/mdw4/scripts/jquery.slabtext.js" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketoptimized="true">var bloginfo_url="http://www.maestrosdelweb.com";var guia_actual={titulo:"Symfony", slug:"symfony-guias",color:"#f4f4e3",etiquetas:"symfony, guias"};</script>
<script type="text/rocketscript" data-rocketsrc="http://www.maestrosdelweb.com/wp-content/themes/mdw4/scripts/internas.js" data-rocketoptimized="true"></script>
<script type="text/rocketscript" data-rocketoptimized="true">try{GS_googleAddAdSenseService("ca-pub-0070781738361811");GS_googleEnableAllServices();}catch(err){}</script>
<script type="text/rocketscript" data-rocketoptimized="true">try{GA_googleAddSlot("ca-pub-0070781738361811", "1000x60ATF");}catch(err){}</script>
<script type="text/rocketscript" data-rocketoptimized="true">try{GA_googleFetchAds();}catch(err){}</script>
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://www.maestrosdelweb.com/wp-content/themes/mdw4/css/skin-symfony.css">
<script type="text/rocketscript" data-rocketoptimized="true">
	function posBGContainer(){
		if(jQuery("#symfony-logo").exists()){
			logo	= jQuery("#symfony-logo").offset(); logoX 	= logo.left - 450; logoY 	= logo.top + 50;
			jQuery('#container.guia-symfony').css('background-position', logoX + 'px ' + logoY+ 'px');
		}
	}
	jQuery(function(){posBGContainer();});
	jQuery(window).resize(function(){posBGContainer();});
</script>
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-309831-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
<script data-rocketsrc="http://platform.linkedin.com/js/nonSecureAnonymousFramework?v=0.0.2000-RC8.33706-1408&amp;" data-rocketoptimized="true"></script><style type="text/css">* html #li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link{height:1% !important;}#li_ui_li_gen_1395535242151_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link:link, #li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link:visited, #li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link:hover, #li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1395535242151_0 a#li_ui_li_gen_1395535242151_0-link:after{content:"." !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-logo{background:url(http://s.c.lnkd.licdn.com/scds/common/u/img/sprite/sprite_connect_v13.png) 0px -276px no-repeat !important;cursor:pointer !important;border:0 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;}#li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-logo{background-position:-20px -276px !important;}#li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-logo, #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-logo{background-position:-40px -276px !important;}.IN-shadowed #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-logo{}#li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title{color:#333 !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;border-left:0 !important;text-shadow:#FFFFFF -1px 1px 0 !important;line-height:20px !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}#li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title{border:1px solid #000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;border-left:0 !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}#li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title, #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title{color:#666 !important;border:1px solid #000 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;border-left:0 !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.IN-shadowed #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title{}.IN-shadowed #li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title{}.IN-shadowed #li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title, .IN-shadowed #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title{}#li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title-text, #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title-text *{color:#333 !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title-text, #li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title-text *{color:#000 !important;}#li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title-text, #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title-text, #li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title-text *, #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title-text *{color:#666 !important;}#li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title #li_ui_li_gen_1395535242151_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title{color:#333 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}.success #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title-text, .success #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title-text *{color:#333 !important;}.IN-shadowed .success #li_ui_li_gen_1395535242151_0 #li_ui_li_gen_1395535242151_0-title{}.success #li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title{color:#000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}.success #li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title-text, .success #li_ui_li_gen_1395535242151_0.hovered #li_ui_li_gen_1395535242151_0-title-text *{color:#000 !important;}.success #li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title, .success #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title{color:#666 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.success #li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title-text, .success #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title-text, .success #li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title-text *, .success #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title-text *{color:#666 !important;}.IN-shadowed .success #li_ui_li_gen_1395535242151_0.clicked #li_ui_li_gen_1395535242151_0-title, .IN-shadowed .success #li_ui_li_gen_1395535242151_0.down #li_ui_li_gen_1395535242151_0-title{}#li_ui_li_gen_1395535242185_1-container.IN-top {display:inline-block !important;overflow:visible !important;position:relative !important;height:42px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1395535242185_1.IN-top {display:inline-block !important;height:42px !important;width:57px !important;text-align:center !important;background:url(http://s.c.lnkd.licdn.com/scds/common/u/img/sprite/sprite_connect_v13.png) -150px top no-repeat !important;}#li_ui_li_gen_1395535242185_1-content.IN-top {display:inline !important;font-size:16px !important;color:#04558B !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:34px !important;}#li_ui_li_gen_1395535242185_1-container.IN-hovered #li_ui_li_gen_1395535242185_1.IN-top, #li_ui_li_gen_1395535242185_1-container.IN-clicked #li_ui_li_gen_1395535242185_1.IN-top, #li_ui_li_gen_1395535242185_1-container.IN-down #li_ui_li_gen_1395535242185_1.IN-top {background-position-x:-210px !important;}#li_ui_li_gen_1395535242185_1-container.IN-empty #li_ui_li_gen_1395535242185_1-inner.IN-top {background:url(http://s.c.lnkd.licdn.com/scds/common/u/img/sprite/sprite_connect_v13.png) 0px -20px no-repeat !important;overflow:hidden !important;margin:5px auto 0 auto !important;width:26px !important;height:26px !important;display:block !important;}#li_ui_li_gen_1395535242185_1-container.IN-empty #li_ui_li_gen_1395535242185_1-content.IN-top {text-indent:-999px !important;display:inline-block !important;}#li_ui_li_gen_1395535242185_1-container.IN-hidden #li_ui_li_gen_1395535242185_1 {display:none !important;}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,.fb_connect_bar_container span,.fb_connect_bar_container a,.fb_connect_bar_container img,.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}.fb_connect_bar a:hover{color:#fff}.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}.fb_connect_bar div a,.fb_connect_bar span,.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}</style></head>
<body data-twttr-rendered="true" style="position: relative;"><div id="scroll-wrap"></div>
<div id="container" class="interna guia-symfony" style="background-position: -289.5px 301px;">
<header>
<div id="banner-top">
<script type="text/rocketscript" data-rocketoptimized="true"> try{GA_googleFillSlot("1000x60ATF");}catch(err){} </script>
</div>
<div class="contenido">
<h1 class="areaLogo"><a href="http://www.maestrosdelweb.com/" rel="index" class="logo">Maestros del web</a></h1>
<ul class="nav">
<li><a href="http://www.maestrosdelweb.com/">Inicio</a></li>
<li><a href="http://www.maestrosdelweb.com/temas">Temas</a></li>
<li><a href="http://www.maestrosdelweb.com/semblanza">Perfiles</a></li>
<li><a href="http://www.maestrosdelweb.com/guias">Guías</a></li>
<li><a href="http://www.maestrosdelweb.com/sitio/creditos">Acerca de</a></li>
<li><a href="http://www.maestrosdelweb.com/sitio/correo">Contacto</a></li>
</ul>
<section class="areaBuscador">
<form role="search" method="get" id="searchform" action="http://www.maestrosdelweb.com/">
<input type="search" value="" name="s" id="s" class="txt" placeholder="¿Qué buscas?">
</form>
</section>
</div></header><section class="areaSkinLogo"><div class="contenido"><div id="symfony-logo" class="skinLogo"></div></div></section>
<section class="hfeed"><div class="contenido">
<section class="headerSeccion">
<div class="masCapitulos"><a id="mostrarCapitulos" href="http://www.maestrosdelweb.com/category/guias/symfony-guias/" title="symfony-guias">Ver capítulos</a></div>
<div class="scrollblock" style="position: absolute; top: 101px;"></div>
<h1>Symfony</h1>
<h2>Framework PHP orientado a objetos</h2>
</section>
<div class="areaArticulo">
<div id="areaIndice"></div>
<aside id="mini-sidebar"><div class="scrollblock" id="mini-sidebar-container" style="position: fixed; top: 0px;"><div id="mini-sidebar-content" style="position: relative; top: 0px;">
<div class="segmento segmentoAutor" style="display: none;">
<div class="areaAvatar"><div class="entry_author_image"><img style="display:none;visibility:hidden;" data-cfsrc="" alt="Maycol Alvarez"><noscript>&lt;img src="" alt="Maycol Alvarez"/&gt;</noscript></div>
</div>
<p class="vcard author">
<span class="fn">Maycol</span>
<a class="username" rel="external" href="http://twitter.com/maycolalvarez">@maycolalvarez</a> </p>
<div class="areaVermas">
<a href="http://www.maestrosdelweb.com/author/maycol/" class="btnSiguiente url"><span class="icono"></span>Ver perfíl</a>
</div>
</div>
<div class="segmento segmentoEditar">
</div>
</div></div></aside> <article class="hentry entry" id="post-22970">
<h1 class="entry-title"><a href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/Curso Symfony 2  Seguridad de acceso  Maestros del Web.html" rel="bookmark" title="#">Curso Symfony 2: Seguridad de acceso</a></h1>
<div class="entry-content">
<p>Uno de los aspectos más importantes en el desarrollo de cualquier aplicación es la Seguridad de acceso, para ello Symfony 2 dispone de una moderna librería que se encarga de las validaciones de acceso y seguridad.</p>
<p>En este capítulo nos dispondremos a crear un ejemplo básico de seguridad que nos permita hacer el “login” de los usuarios y a su vez bloquear el acceso a determinados usuarios según su rol, para ello tendremos que adentrarnos en como funciona la librería de seguridad de Symfony2, luego crearemos las estructuras necesarias para definir un mini-backend donde crearemos unos CRUD’s para usuarios y roles utilizando Doctrine como proveedor de usuarios.</p>
<h3>Autenticación vs. Autorización </h3>
<p>Representan los 2 conceptos más fundamentales de seguridad en Symfony, el primero se encarga de verificar si el usuario en cuestión está Autenticado (logeado) y se le conoce como “Firewall”, el segundo verifica si el usuario tiene los permisos o “roles” necesarios y se le conoce como “access_control”.</p>
<p>El primer paso es verificar si el usuario está o no autenticado, en tal caso lo deja pasar y el segundo paso es verificar si el usuario tiene el rol necesario para dicha acción, para comprenderlo mejor veamos un ejemplo básico del archivo de configuración:</p>
<div class="codigo">
<pre># proyecto/app/config/security.yml
security:
    firewalls:
        secured_area:
            pattern:    ^/
            anonymous: ~
            http_basic:
                realm: "Secured Demo Area"

    access_control:
        - { path: ^/admin, roles: ROLE_ADMIN }

    providers:
        in_memory:
            users:
                usuario:  { password: user, roles: 'ROLE_USER' }
                admin: { password: kitten, roles: 'ROLE_ADMIN' }

    encoders:
        Symfony\Component\Security\Core\User\User: plaintext</pre>
</div>
<p>Vemos como primer elemento definido los conjuntos de firewall y en él una “secured_area” donde:</p>
<ol>
<li><strong>pattern:</strong> es una expresión regular para hacer empatar la URL, toda ruta que empate con ello obligará al mecanismo de firewall que verifique si el usuario está autenticado, si no lo está procederá a re-dirigirlo al formulario de autenticación (en el caso anteterior mostrar el díalogo nativo de autenticación HTTP del navegador).</li>
<li><strong>anonymous: ~: </strong>indica que permite usuarios anónimos, no se debe aplicar en caso de backends.</li>
<li><strong>http_basic: </strong> indica que utilice la autenticación HTTP.</li>
</ol>
<p>Por su parte el Mecanismo de Autorización <strong>“access_control”</strong> actúa de forma diferente, porque aunque dependa de que el usuario esté autenticado verifica si el mismo dispone de los permisos (roles) necesarios para determinada operación:</p>
<ul>
<li><strong>- { path: ^/admin, roles: ROLE_ADMIN }</strong>indica una regla básica para autorización, donde en toda ruta que coincida al principio con <strong>/admin</strong>, el usuario debe de tener dicho rol “ROLE_ADMIN” indicado.</li>
</ul>
<div class="tipexperto" id="tip-0"><h3>Nota</h3> <div class="tipcont"> Puedes añadir tantos access_control como necesites.</div></div><div class="toolbar"><a class="btnHerramienta" href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#" onclick="Evernote.doClip({styling:&#39;full&#39;,title:&#39;Curso Symfony 2: Seguridad de acceso |Maestros del Web&#39;,contentId:&#39;tip-0&#39;,providerName:&#39;Maestros del Web&#39;,suggestNotebook:&#39;Symfony - Maestros del Web&#39;,suggestTags:&#39;symfony, guias&#39;}); return false;"><img src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/article-clipper-es.png" alt="Capturar a Evernote"></a></div>
<p><strong>“providers”</strong> simplemente define el proveedor de usuario, que en este caso es en memoria, y <strong>“encoders”</strong> define el codificador de la contraseña, el cual debe ser de algún tipo de HASH como SHA512, en el ejemplo se usa texto plano. (más adelante se exponen ejemplos detallados).</p>
<h3>Configuraciones del Control de Acceso</h3>
<p>El control de acceso no sólo se limita a controlar que el usuario cumpla con un rol determinado para un patrón de ruta determinada, permite cierta flexibilidad con el que podrás adaptarte a las necesidades de seguridad de tu aplicación.</p>
<p><strong>Protegiendo por IP</strong><br>
Tan simple como añadir el parámetro ip, con la misma puedes obligar a que una ruta solo se pueda acceder desde dicha ip (ideal para el backend interno):</p>
<div class="codigo">
<pre># app/config/security.yml
security:
    # ...
    access_control:
        - { path: ^/_internal, roles: IS_AUTHENTICATED_ANONYMOUSLY, ip: 127.0.0.1 }</pre>
</div>
<p><strong>Protegiendo por Canal</strong><br>
Si dispones de un certificado SSL puedes obligar a que la ruta solo esté disponible desde https, especificando requires_channel:</p>
<div class="codigo">
<pre># app/config/security.yml
security:
    # ...
    access_control:
        - { path: ^/cart/checkout, roles: IS_AUTHENTICATED_ANONYMOUSLY, requires_channel: https}</pre>
</div>
<p><strong>Protegiendo un Controlador</strong><br>
En ocasiones necesitamos que el controlador se encargue del control de acceso, de forma que podamos flexibilizarlo según nuestro modelo de negocios, para ello podremos acceder al contexto de seguridad desde nuestros controladores:</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">//dentro de un controlador
use Symfony\Component\Security\Core\Exception\AccessDeniedException;
// ...
public function helloAction($name)
{
     if (false === $this-&gt;get(’security.context’)-&gt;isGranted(’ROLE_ADMIN’)) {
          throw new AccessDeniedException();
     }
     // ...
}
</pre>
</div>
<p>También puede optar por instalar y utilizar el Bundle opcional <strong>JMSSecurityExtraBundle</strong>, el cual puede asegurar su controlador usando anotaciones:</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">//dentro de un controlador
use JMS\SecurityExtraBundle\Annotation\Secure;
/**
  * @Secure(roles="ROLE_ADMIN")
  */
public function helloAction($name)
{
     // ...
}
</pre>
</div>
<p>Para más información, consulte la documentación de JMSSecurityExtraBundle. Si estás usando la distribución estándar de Symfony, este paquete está disponible de forma predeterminada. Si no es así, lo puedes descargar e instalar.</p>
<p><strong>Controlando el acceso desde plantilla</strong><br>
Incluso puedes verificar si el usuario tiene acceso desde la misma plantilla,<em> útil para ocultar segmentos a roles específicos</em>:<br>
Desde <strong>Twig</strong></p>
<div class="codigo">
<pre class="brush: plain; title: ; notranslate" title="">{% if is_granted(’ROLE_ADMIN’) %}
     &lt;a href="..."&gt;Delete&lt;/a&gt;
{% endif %}
</pre>
</div>
<p>Desde <strong>PHP</strong></p>
<div>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php if ($view[’security’]-&gt;isGranted(’ROLE_ADMIN’)): ?&gt;
    &lt;a href="..."&gt;Delete&lt;/a&gt;
&lt;?php endif; ?&gt;
</pre>
</div>
<p><strong>Recuperando del objeto usuario</strong><br>
Desde un controlador, puedes acceder fácilmente a la instancia del usuario actual utilizando el Mecanismo de inyección de dependencias:</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">//dentro de un controlador
public function indexAction()
{
  $user = $this-&gt;get(’security.context’)-&gt;getToken()-&gt;getUser();
}
</pre>
</div>
<h3>Tutorial: mini-backend de usuarios con Doctrine</h3>
<p>Realmente el ejemplo anterior es demasiado básico como para llevarlo a una aplicación real, y una de las opciones más tentadoras es utilizar Doctrine como proveedor de los Usuarios, con el cual podamos crear Roles y Usuarios desde CRUD’s elaborados por el mismo framework y crear nuestro propio esquema de seguridad, debo resaltar que existen muchos Bundles prefabricados como el FOSUserBundle que facilitan enormemente ésta tarea, pero si quieres profundizar puedes seguir el siguiente tutorial para conocer a fondo como se hace desde 0 con Doctrine ;-).</p>
<p><strong>Paso 1: Crea las entidades básicas</strong><br>
Antes de empezar debemos de definir las entidades básicas para ser utilizadas como proveedor de usuarios y roles en Sf2, dichas entidades <strong>User</strong> y <strong>Role</strong> deben de implementar las interfaces Symfony\Component\Security\Core\User\UserInterface y Symfony\Component\Security\Core\Role\RoleInterface respectivamente, así que añade estas 2 entidades a tu directorio “proyecto/src/MDW/BlogBundle/Entity”:</p>
<p><strong>User.php:</strong></p>
<div>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
// proyecto/src/MDW/BlogBundle/Entity/User.php
namespace MDW\BlogBundle\Entity;

use Symfony\Component\Security\Core\User\UserInterface;
use Doctrine\ORM\Mapping as ORM;
/**
  * @ORM\Entity
  * @ORM\Table(name="admin_user")
  */
class User implements UserInterface
{
    /**
     * @var integer $id
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
    * @ORM\Column(type="string", length="255")
    */
    protected $username;

    /**
     * @ORM\Column(name="password", type="string", length="255")
     */
    protected $password;

    /**
     * @ORM\Column(name="salt", type="string", length="255")
     */
    protected $salt;

    /**
     * se utilizó user_roles para no hacer conflicto al aplicar -&gt;toArray en getRoles()
     * @ORM\ManyToMany(targetEntity="Role")
     * @ORM\JoinTable(name="user_role",
     *     joinColumns={@ORM\JoinColumn(name="user_id", referencedColumnName="id")},
     *     inverseJoinColumns={@ORM\JoinColumn(name="role_id", referencedColumnName="id")}
     * )
     */
    protected $user_roles;

    public function __construct()
    {
        $this-&gt;user_roles = new \Doctrine\Common\Collections\ArrayCollection();
    }

    /**
     * Get id
     *
     * @return integer
     */
    public function getId()
    {
        return $this-&gt;id;
    }

    /**
     * Set username
     *
     * @param string $username
     */
    public function setUsername($username)
    {
        $this-&gt;username = $username;
    }

    /**
     * Get username
     *
     * @return string
     */
    public function getUsername()
    {
        return $this-&gt;username;
    }

    /**
     * Set password
     *
     * @param string $password
     */
    public function setPassword($password)
    {
        $this-&gt;password = $password;
    }

    /**
     * Get password
     *
     * @return string
     */
    public function getPassword()
    {
        return $this-&gt;password;
    }

    /**
     * Set salt
     *
     * @param string $salt
     */
    public function setSalt($salt)
    {
        $this-&gt;salt = $salt;
    }

    /**
     * Get salt
     *
     * @return string
     */
    public function getSalt()
    {
        return $this-&gt;salt;
    }

    /**
     * Add user_roles
     *
     * @param Maycol\BlogBundle\Entity\Role $userRoles
     */
    public function addRole(\Maycol\BlogBundle\Entity\Role $userRoles)
    {
        $this-&gt;user_roles[] = $userRoles;
    }

    public function setUserRoles($roles) {
        $this-&gt;user_roles = $roles;
    }

    /**
     * Get user_roles
     *
     * @return Doctrine\Common\Collections\Collection
     */
    public function getUserRoles()
    {
        return $this-&gt;user_roles;
    }

    /**
     * Get roles
     *
     * @return Doctrine\Common\Collections\Collection
     */
    public function getRoles()
    {
        return $this-&gt;user_roles-&gt;toArray(); //IMPORTANTE: el mecanismo de seguridad de Sf2 requiere ésto como un array
    }

    /**
     * Compares this user to another to determine if they are the same.
     *
     * @param UserInterface $user The user
     * @return boolean True if equal, false othwerwise.
     */
    public function equals(UserInterface $user) {
        return md5($this-&gt;getUsername()) == md5($user-&gt;getUsername());

    }

    /**
     * Erases the user credentials.
     */
    public function eraseCredentials() {

    }
}
</pre>
</div>
<p><strong>Role.php:</strong></p>
<div>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
// proyecto/src/MDW/BlogBundle/Entity/Role.php
namespace MDW\BlogBundle\Entity;

use Symfony\Component\Security\Core\Role\RoleInterface;
use Doctrine\ORM\Mapping as ORM;

/**
 * @ORM\Entity
 * @ORM\Table(name="admin_roles")
 */
class Role implements RoleInterface
{
    /**
     * @ORM\Id
     * @ORM\Column(type="integer")
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;

    /**
     * @ORM\Column(name="nombre", type="string", length="255")
     */
    protected $name;

    /**
     * Get id
     *
     * @return integer
     */
    public function getId()
    {
        return $this-&gt;id;
    }

    /**
     * Set name
     *
     * @param string $name
     */
    public function setName($name)
    {
        $this-&gt;name = $name;
    }

    /**
     * Get name
     *
     * @return string
     */
    public function getName()
    {
        return $this-&gt;name;
    }

    public function getRole() {
        return $this-&gt;getName();
    }

    public function __toString() {
        return $this-&gt;getRole();
    }
}
</pre>
</div>
<p>Una vez creadas nuestras entidades, accedemos a la consola de Symfony2 y generamos las tablas en Base de Datos:</p>
<div class="codigo">
<pre>$ app/console doctrine:schema:update --force</pre>
</div>
<p><strong>Paso 2: Generando los CRUD’s</strong></p>
<p>Una vez creadas las entidades en DB, procedemos a crear los CRUD’s desde la consola de symfony:</p>
<div class="codigo">
<pre>$ app/console doctrine:generate:crud</pre>
</div>
<p>Seguimos los pasos colocando <strong>MDWBlogBundle:Role</strong>, luego nos solicita si deseamos crear las opciones de escritura, le decimos <strong>“y”</strong> (sí), formato del CRUD: <strong>annotation</strong>, y finalmente en el Routes prefix colocamos <strong>/admin/role</strong>, este paso es importante porque a la ruta le asignamos el prefijo /admin para que nos permita empatar luego con el access_control, confirmamos y aparecerá el mensaje <em>“You can now start using the generated code!”</em></p>
<p>Procedemos a aplicar lo mismo pero en este caso con <strong>MDWBlogBundle:User</strong> y en Routes prefix colocamos <strong>/admin/user</strong></p>
<p>Ahora añadiremos las rutas a nuestro archivo de rutas (proyecto/src/MDW/BlogBundle/Resources/Config/routing.yml), porque al crearlas como Anotaciones las mismas no se añaden automáticamente:</p>
<div class="codigo">
<pre>#proyecto/src/MDW/BlogBundle/Resources/Config/routing.yml
# final del archivo:
MDWAnnotations:
    resource: "@MDWBlogBundle/Controller/"
    prefix:   /
    type:     annotation</pre>
</div>
<p>De ésta forma <strong>añadiremos todas las rutas definidas por anotaciones del directorio Controller</strong>, ésta técnica forma parte del <strong>SensioFrameworkExtraBundle</strong> y nos permite definir las rutas directamente en nuestros controladores. si utilizas la Versión estándar de Symfony2 este Bundle viene por defecto.</p>
<p>Ya con esto podemos acceder a nuestros crud’s desde <strong>localhost/proyecto/web/app_dev.php/admin/user</strong>, pero aún debemos modificar ciertos aspectos en el controlador <strong>User</strong> para codificar el hash de contraseña.</p>
<p>Primero añadiremos la siguiente función en el controlador de usuarios:</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">// proyecto/src/MDW/BlogBundle/Controller/UserController.php
// añadimos esta función
private function setSecurePassword(&amp;$entity) {
	$entity-&gt;setSalt(md5(time()));
	$encoder = new \Symfony\Component\Security\Core\Encoder\MessageDigestPasswordEncoder('sha512', true, 10);
	$password = $encoder-&gt;encodePassword($entity-&gt;getPassword(), $entity-&gt;getSalt());
	$entity-&gt;setPassword($password);
}
</pre>
</div>
<p>Luego modificamos las funciones de las acciones correspondientes a create y update, añadiendo la llamada al la función anterior para establecer el hash de la contraseña con el algoritmo SHA512:</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">// proyecto/src/MDW/BlogBundle/Controller/UserController.php

//funcion createAction:
    public function createAction()
    {
        $entity  = new User();
        $request = $this-&gt;getRequest();
        $form    = $this-&gt;createForm(new UserType(), $entity);
        $form-&gt;bindRequest($request);

        if ($form-&gt;isValid()) {
            //establecemos la contraseña: --------------------------
            $this-&gt;setSecurePassword($entity);

            $em = $this-&gt;getDoctrine()-&gt;getEntityManager();
            $em-&gt;persist($entity);
            $em-&gt;flush();

            return $this-&gt;redirect($this-&gt;generateUrl('admin_user_show', array('id' =&gt; $entity-&gt;getId())));

        }

        return array(
            'entity' =&gt; $entity,
            'form'   =&gt; $form-&gt;createView()
        );
    }
//...
//funcion updateAction:
    public function updateAction($id)
    {
        $em = $this-&gt;getDoctrine()-&gt;getEntityManager();

        $entity = $em-&gt;getRepository('MDWBlogBundle:User')-&gt;find($id);

        if (!$entity) {
            throw $this-&gt;createNotFoundException('Unable to find User entity.');
        }

        $editForm   = $this-&gt;createForm(new UserType(), $entity);
        $deleteForm = $this-&gt;createDeleteForm($id);

        $request = $this-&gt;getRequest();

        //obtiene la contraseña actual -----------------------
        $current_pass = $entity-&gt;getPassword();

        $editForm-&gt;bindRequest($request);

        if ($editForm-&gt;isValid()) {
            //evalua si la contraseña fue modificada: ------------------------
            if ($current_pass != $entity-&gt;getPassword()) {
                $this-&gt;setSecurePassword($entity);
            }
            $em-&gt;persist($entity);
            $em-&gt;flush();

            return $this-&gt;redirect($this-&gt;generateUrl('admin_user_edit', array('id' =&gt; $id)));
        }

        return array(
            'entity'      =&gt; $entity,
            'edit_form'   =&gt; $editForm-&gt;createView(),
            'delete_form' =&gt; $deleteForm-&gt;createView(),
        );
    }
</pre>
</div>
<p>Por último sólo nos queda eliminar del formulario (src/MDW/BlogBundle/Form/UserType.php) el campo <strong>salt</strong> el cual no debe ser modificado por el usuario:</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
// proyecto/src/MDW/BlogBundle/Form/UserType.php
namespace MDW\BlogBundle\Form;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;

class UserType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder
            -&gt;add('username')
            -&gt;add('password')
            //-&gt;add('salt') //No necesitamos que salt sea mostrado ---------------
            -&gt;add('user_roles')
        ;
    }

    public function getName()
    {
        return 'mdw_blogbundle_usertype';
    }
}
</pre>
</div>
<p>Ahora puedes proceder a registrar usuarios y roles, <strong>es muy importante que al menos crees los roles “ROLE_ADMIN” y “ROLE_USER”</strong> y <em><strong>dos usuarios</strong></em> (uno con un rol diferente) antes de que procedas en aplicar el esquema de seguridad, de lo contrario no tendrás usuario con que loguearte ;-).</p>
<p><strong>Paso 3: Creando el esquema de seguridad</strong><br>
Ahora procedemos a sobreescribir nuestro esquema de seguridad (proyecto/app/config/security.yml), recomiendo que antes de hacerlo guardes una copia del security.yml.</p>
<div class="codigo">
<pre># proyecto/app/config/security.yml
security:
    encoders:
        MDW\BlogBundle\Entity\User:
            algorithm: sha512
            encode-as-base64: true
            iterations: 10

    providers:
        user_db:
            entity: { class: MDW\BlogBundle\Entity\User, property: username }

    firewalls:
        dev:
            pattern:  ^/(_(profiler|wdt)|css|images|js)/
            security: false

        login:
            pattern:  ^/admin/login$
            security: false

        secured_area:
            pattern:    ^/admin/
#            http_basic:
#                realm: "Introduzca Usuario y Contraseña"
            form_login:
                login_path: /admin/login
                check_path: /admin/login_check
            logout:
                path: /admin/logout
                target: /

    access_control:
      - { path: ^/admin, roles: ROLE_ADMIN }</pre>
</div>
<p>Como puedes apreciar en “<strong>encoders</strong>” se ha definido un codificador especifico para la entidad User, utilizando el algoritmo SHA512, además codificandolo en Base64 con 10 iteracciones, tal cual se apreció en la función <strong>setSecurePassword</strong> del controlador.</p>
<p>En “<strong>providers</strong>” se estableció nuestra entidad User de Doctrine, especificando el campo correspondiente al username, es cual es el mismo username en nuestra entidad.</p>
<p>En “<strong>firewalls</strong>” se ha añadido la nueva regla (o firewall) <strong>login</strong> desde la cual se aplica el parametro <strong>security: false</strong> lo que permite acceder a la misma sin autenticarse, de lo contrario el formulario de login nunca lo podremos visializar.</p>
<p>Además en “<strong>secured_area</strong>” se ha eliminado anonymous, se ha establecido “<strong>form_login</strong>” donde definimos la ruta para el login del sistema, y se definió una ruta personalizada para el “<strong>log_out</strong>“, donde en “<strong>target</strong>” podemos definir el path hacia donde redirigir cuando los usuarios cierren sesión.</p>
<p>Para culminar sólo necesitamos crear el controlador y vista para nuestro login, por lo que debes de crear el archivo SecurityController.php en el directorio (proyecto/src/MDW/BlogBundle/Controller):</p>
<p>SecurityController.php</p>
<div>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
// proyecto/src/MDW/BlogBundle/Controller/SecurityController.php
namespace MDW\BlogBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Method;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;
use Symfony\Component\Security\Core\SecurityContext;

/**
 * Security controller.
 *
 * @Route("/admin")
 */
class SecurityController extends Controller
{
    /**
     * Definimos las rutas para el login:
     * @Route("/login", name="login")
     * @Route("/login_check", name="login_check")
     */
    public function loginAction()
    {
        $request = $this-&gt;getRequest();
        $session = $request-&gt;getSession();
        // obtiene el error de inicio de sesión si lo hay
        if ($request-&gt;attributes-&gt;has(SecurityContext::AUTHENTICATION_ERROR)) {
            $error = $request-&gt;attributes-&gt;get(SecurityContext::AUTHENTICATION_ERROR);
        } else {
            $error = $session-&gt;get(SecurityContext::AUTHENTICATION_ERROR);
        }
        return $this-&gt;render('MDWBlogBundle:Security:login.html.twig', array(
            // el último nombre de usuario ingresado por el usuario
            'last_username' =&gt; $session-&gt;get(SecurityContext::LAST_USERNAME),
            'error'         =&gt; $error,
        ));
    }
}
?&gt;
</pre>
</div>
<p>Ahora crea el directorio “Security” dentro de (proyecto/src/MDW/BlogBundle/Resources/views) y procede a crear el archivo de vista:</p>
<p>login.html.twig</p>
<div>
<pre class="brush: xml; title: ; notranslate" title="">{# proyecto/src/MDW/BlogBundle/Resources/views/Security/login.html.twig #}
{% if error %}
&lt;div&gt;{{ error.message }}&lt;/div&gt;

{% endif %}
&lt;form action="{{ path('login_check') }}" method="post"&gt;&lt;label for="username"&gt;Username:&lt;/label&gt;
 &lt;input id="username" type="text" name="_username" value="{{ last_username }}" /&gt;
 &lt;label for="password"&gt;Password:&lt;/label&gt;
 &lt;input id="password" type="password" name="_password" /&gt;

 &lt;input type="submit" name="login" /&gt;
&lt;/form&gt;
</pre>
</div>
<p>Y con ello ya puedes intentar acceder a <strong>localhost/proyecto/web/admin/user</strong> y probar el sistema de seguridad de Symfony2 (vaciar la caché en el caso de entrar al entorno de producción), <strong>si creaste previamente 2 usuarios</strong>, intenta acceder con el usuario que no tiene el rol “ROLE_ADMIN” y verás como te niega el acceso, en cambio si pruebas con un usuario con dicho rol, puedes entrar perfectamente.</p>
<h3>Resumen Final</h3>
<p>En esta ocasión apreciamos el complejo sistema de seguridad de Symfony2, en donde un <strong>firewall</strong> verifica si el usuario está o no logueado, y un <strong>access control</strong> vigila que dicho usuario no pueda acceder a contenido del cual no se le ha dado acceso, también conocimos que se pueden definir <strong>providers</strong> diferentes para contener a nuestros usuarios y <strong>encoders</strong> para personalizar el HASH de la contraseña.</p>
<p>Además interactuamos con dicho sistema a través de un “rápido” tutorial que nos permitió resolver las inquietudes más directas en cuanto a creación de un básico RBAC (Role-based Access Control), reitero que no es la única forma de hacerlo y que existen muchos Bundles Prefabricados como el FOSUserBundle que nos facilita enormemente ésta tarea, pero si no se conoce debidamente la base puede resultar una verdadera <em>caja negra</em> el usar un Bundle sin el previo conocimiento de como Symfony2 implementa tales mecanismos.<br>
</p><h3>Siguiente capítulo: <a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-descarga/">Descarga el curso Symfony 2</a> →</h3>
</div>
</article>
<section class="areaAutor">
<p class="clearfix"></p><div class="entry_author_image"><img style="display:none;visibility:hidden;" data-cfsrc="" alt="Maycol Alvarez"><noscript>&lt;img src="" alt="Maycol Alvarez"/&gt;</noscript></div>
<strong>Maycol Alvarez</strong> para <a href="http://www.maestrosdelweb.com/">Maestros del Web</a>.<br>
<a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#respond">Agrega tu comentario</a> | <a href="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/Curso Symfony 2  Seguridad de acceso  Maestros del Web.html">Enlace permanente</a> al artículo<p></p>
<p><strong>Síguenos en:</strong> <img style="vertical-align:middle;" data-cfsrc="http://www.maestrosdelweb.com/diseno/imagenes/twitter.png" data-cfstyle="vertical-align:middle;" alt="Twitter" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/twitter.png"> <a href="http://twitter.com/maestros">@maestros</a> | <img data-cfstyle="vertical-align:middle;" style="vertical-align:middle;" data-cfsrc="http://www.maestrosdelweb.com/diseno/imagenes/facebook.png" alt="Facebook" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/facebook.png"> <a href="http://www.facebook.com/maestrosdelweb">Fan page</a></p>
</section>
<section class="areaSocial">
<h2 id="comments" class="tituloComentarios">43 comentarios</h2>
<div class="sBookmarks">
<div class="bookmark sbTwitter">
<iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/tweet_button.1393899192.html" class="twitter-share-button twitter-tweet-button twitter-count-vertical" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 67px; height: 62px;"></iframe><script type="text/rocketscript" data-rocketsrc="http://platform.twitter.com/widgets.js" data-rocketoptimized="true"></script>
</div>
<div class="bookmark sbFacebook">
<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/LEdxGgtB9cN.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/LEdxGgtB9cN(1).html" style="border: none;"></iframe></div></div></div>
<script type="text/rocketscript" data-rocketoptimized="true">(function(d, s, id) {
							var js, fjs = d.getElementsByTagName(s)[0];
							if (d.getElementById(id)) {return;}
							js = d.createElement(s); js.id = id;
							js.src = "//connect.facebook.net/en_US/all.js#appId=269602203058716&xfbml=1";
							fjs.parentNode.insertBefore(js, fjs);
							}(document, 'script', 'facebook-jssdk'));</script>
<div class="fb-like fb_iframe_widget" data-href="http://www.maestrosdelweb.com/editorial/curso-symfony2-introduccion-instalacion/" data-send="false" data-layout="box_count" data-width="50" data-show-faces="false" data-font="verdana" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=269602203058716&amp;font=verdana&amp;href=http%3A%2F%2Fwww.maestrosdelweb.com%2Feditorial%2Fcurso-symfony2-introduccion-instalacion%2F&amp;layout=box_count&amp;locale=en_US&amp;sdk=joey&amp;send=false&amp;show_faces=false&amp;width=50"><span style="vertical-align: bottom; width: 50px; height: 61px;"><iframe name="f93f2d0c8" width="50px" height="1000px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:like Facebook Social Plugin" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/like.html" class="" style="border: none; visibility: visible; width: 50px; height: 61px;"></iframe></span></div>
</div>
<div class="bookmark sbGoogle">
<div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 50px; height: 60px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 50px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 60px;" tabindex="0" vspace="0" width="100%" id="I1_1395535245577" name="I1_1395535245577" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div>
<script type="text/rocketscript" data-rocketoptimized="true">
							window.___gcfg = {lang: 'es'};
							(function() {
							var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
							po.src = 'https://apis.google.com/js/plusone.js';
							var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
							})();
							</script>
</div>
<div class="bookmark sbLinkedin">
<script data-rocketsrc="http://platform.linkedin.com/in.js" type="text/rocketscript" data-rocketoptimized="true"></script>
<span class="IN-widget" style="line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1395535242185_1-container" class="IN-top"><span id="li_ui_li_gen_1395535242185_1" class="IN-top"><span id="li_ui_li_gen_1395535242185_1-inner" class="IN-top"><span id="li_ui_li_gen_1395535242185_1-content" class="IN-top">39</span></span></span></span></span><br><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1395535242151_0"><a id="li_ui_li_gen_1395535242151_0-link" href="javascript:void(0);"><span id="li_ui_li_gen_1395535242151_0-logo">in</span><span id="li_ui_li_gen_1395535242151_0-title"><span id="li_ui_li_gen_1395535242151_0-mark"></span><span id="li_ui_li_gen_1395535242151_0-title-text">Share</span></span></a></span></span></span><script type="IN/Share+init" data-url="http://www.maestrosdelweb.com/editorial/curso-symfony2-introduccion-instalacion/" data-counter="top"></script>
</div>
</div>
<div class="areaComentarios">
<div class="clear"></div>
<div id="comentarios">
<div class="commentp"><a name="comments">41</a></div>
<h3>Comentarios</h3>
 
 
<ol class="lista_comentarios">
<li class="comment" id="comment-196456">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/5ab0c5fdbef4666a669ffa4c4fe08924?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/5ab0c5fdbef4666a669ffa4c4fe08924"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196456">1</a></div>
<div class="autorcomentario">
<strong>Milena</strong>
</div>
<p>Excelente articulo, muy bien explicado.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196456" title="enlace a este comentario">23.05.2012 - 21:31</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-196461">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/e45d5aafc5edc8b3f29b1d05af093ffd?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/e45d5aafc5edc8b3f29b1d05af093ffd"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196461">2</a></div>
<div class="autorcomentario">
<strong>Arkiant</strong>
</div>
<p>Excelente artículo, tengo una pequeña duda:</p>
<p>Paso 1: Crea las entidades básicas: dichas entidades User y Role<br>
¿Deben tener ese mismo nombre la entidad? yo tengo en un symfony de prueba Usuarios y ahí implemento el userinterface y no tengo una entidad Role, lo tengo como un campo de la tabla Usuarios de tipo string, ¿ esto es correcto ?, ¿debería separarlo?. </p>
<p>Gracias por el curso y por la calidad del mismo, un saludo! <img data-cfsrc="http://www.maestrosdelweb.com/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/icon_smile.gif"> </p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196461" title="enlace a este comentario">24.05.2012 - 03:03</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-196464">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196464">3</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>Puedes cambiar el nombre, solo que debes de asegurarte de que ésa entidad sea la que uses en toda la aplicación (obvio :-D).<br>
La entidad Role no es necesaria, si te fijas en la función getRoles() de la Entidad User se espera devolver un Array de los Roles que el usuario tenga, por lo tanto allí puedes generar o un array estático con los roles que quieras, o como desees implementarlo, la ventaja de usar la entidad Role es dar semántica y aprovechar el mecanismo de asociaciones de Doctrine <img data-cfsrc="http://www.maestrosdelweb.com/wp-includes/images/smilies/icon_wink.gif" alt=";-)" class="wp-smiley" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/icon_wink.gif"> </p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196464" title="enlace a este comentario">24.05.2012 - 07:12</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-196479">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/e45d5aafc5edc8b3f29b1d05af093ffd?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/e45d5aafc5edc8b3f29b1d05af093ffd"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196479">4</a></div>
<div class="autorcomentario">
<strong>Arkiant</strong>
</div>
<p>Muchas gracias Maycol <img data-cfsrc="http://www.maestrosdelweb.com/wp-includes/images/smilies/icon_biggrin.gif" alt=":D" class="wp-smiley" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/icon_biggrin.gif"> </p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196479" title="enlace a este comentario">24.05.2012 - 12:29</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-196595">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/0a9fcde8fe79cf349669a72f6b8b35bb?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/0a9fcde8fe79cf349669a72f6b8b35bb"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196595">5</a></div>
<div class="autorcomentario">
<strong>Miguel Enrique</strong>
</div>
<p>Genial curso!!!, para cuando el PDF???</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196595" title="enlace a este comentario">30.05.2012 - 09:39</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-196639">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196639">6</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>Pronto, no desesperen! <img data-cfsrc="http://www.maestrosdelweb.com/wp-includes/images/smilies/icon_wink.gif" alt=";-)" class="wp-smiley" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/icon_wink.gif"> </p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196639" title="enlace a este comentario">01.06.2012 - 09:34</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-196611">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/74ead8fee2d1cdb605bb99c429834b81?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/74ead8fee2d1cdb605bb99c429834b81"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196611">7</a></div>
<div class="autorcomentario">
<strong>Toni</strong>
</div>
<p>Muy bien explicado!! Tengo una duda interesante, y no se como solucionarla, a ver si me podeis ayudar!</p>
<p>Resulta que necesito tener dos logins en la pagina, uno sera para el area de clientes que consiste unicamente en permitirle el acceso a una seccion donde tendra un fichero descargable propio para el, es decir, tendria ROLE_USER, y cuando se cierra te redireccionaria a la pagina principal de la web, en cambio, por otro lado, tengo un apartado de panel de control de administracion de la web, donde el propietario puede publicar noticias, borrarlas, dar de alta clientes etc etc, mi problema esta en los redireccionamientos de acceso y cierre de sesion, no puedo declarar dos distintos en el security.yml, o como lo puedo hacer? Espero vuestra respuesta gracias!</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196611" title="enlace a este comentario">31.05.2012 - 08:55</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-196638">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196638">8</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>Symfony Redirecciona desde el login al ultimo URL accedido (si este es interceptado por el firewall), por lo cual si el cliente accede a por ejemplo /ruta/descargas y se loguea, inmediatamente después del login lo redirige a ésa ruta, y si un admin entra a /admin lo mismo, el caso es que si un cliente intenta entrar a /admin, le mostrará la página por defecto de Access Denied</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196638" title="enlace a este comentario">01.06.2012 - 09:33</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-196703">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/012f573832ce0c53806fae29bafa5cbb?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/012f573832ce0c53806fae29bafa5cbb"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196703">9</a></div>
<div class="autorcomentario">
<strong>martin</strong>
</div>
<p>El descargable cuando estará disponible?</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196703" title="enlace a este comentario">04.06.2012 - 13:39</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-196705">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196705">10</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>Pronto, no desesperen, todavía no manejo la fecha, saludos <img data-cfsrc="http://www.maestrosdelweb.com/wp-includes/images/smilies/icon_wink.gif" alt=";-)" class="wp-smiley" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/icon_wink.gif"> </p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196705" title="enlace a este comentario">04.06.2012 - 14:33</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-196733">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/23a5eb05b3e1ef77cd5bee9285b3530c?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/23a5eb05b3e1ef77cd5bee9285b3530c"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196733">11</a></div>
<div class="autorcomentario">
<strong>Luis</strong>
</div>
<p>Muchas gracias por el tutorial me ha servido mucho para comenzar con este framework, sobretodo para un poryecto que tengo en desarrollo</p>
<p>Sin embargo hay algo que aun no entiendo bien, al momento de probar la aplicacion en el entorno de producción hay alguna forma de que en las rutas no aparezca la parte de app.php/ a lo que que me refiero es pasar de una ruta como esta</p>
<p><a href="http://localhost/symfony/web/app.php/hello" rel="nofollow">http://localhost/symfony/web/app.php/hello</a> </p>
<p>a esto</p>
<p><a href="http://localhost/symfony/hello" rel="nofollow">http://localhost/symfony/hello</a></p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196733" title="enlace a este comentario">06.06.2012 - 12:06</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-196744">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196744">12</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>Claro, para ello está el .htaccess por lo cual debes de activar el módulo Mod_Rewrite de Apache y reiniciarlo, en algunas instalaciones GNU/Linux el default host suele desactivar también la Sobre-escritura de la Url, en la cual debes de cambiar AllowObverride None por AllowOverride All y reiniciar Apache. (visto en el capítulo del controlador).<br>
Ya con ello, elimina app.php y prueba ;-).<br>
En el caso de IIS es diferente, pero como no recomiendo usarlo con PHP (ni lo uso) deberás por tu parte averiguar como activar la Sobre-escritura de la URL.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196744" title="enlace a este comentario">07.06.2012 - 13:42</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-196745">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196745">13</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>Oops!, se me olvidaba, también puedes crear otro virtualhost para probarlo con la url “real”, solo debes de añadir 127.0.0.1 <a href="http://www.miurlficticia.com/" rel="nofollow">http://www.miurlficticia.com</a> al archivo “hosts” de tu Sistema Operativo.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196745" title="enlace a este comentario">07.06.2012 - 13:44</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-196746">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196746">14</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>corrijo: 127.0.0.1 solo_la_url_sin_el_http://</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196746" title="enlace a este comentario">07.06.2012 - 13:45</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-196834">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/cf13bac4270c2e2e40efb281d408a929?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/cf13bac4270c2e2e40efb281d408a929"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196834">15</a></div>
<div class="autorcomentario">
<strong>VOCE</strong>
</div>
<p>Como puedo hacer para que symfony2 este en español en ubuntu 12.04, favor podrian indicar como convertir.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-196834" title="enlace a este comentario">14.06.2012 - 08:04</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-197167">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197167">16</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>¿a que componente te refieres?, el core y el profiler están en inglés y no creo que se publiquen versiones en español, en cuanto al idioma del usuario en app/parameters.ini defines el idioma por defecto en “locale”, pero ten en cuenta que el componente i18n asumirá a este por defecto, por lo que tendrás que incluir los demás archivos de idioma si quieres hacer la aplicación multilenguaje.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197167" title="enlace a este comentario">09.07.2012 - 15:06</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-197031">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/6ae736406331a0c9e2c9d9505d0a4617?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/6ae736406331a0c9e2c9d9505d0a4617"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197031">17</a></div>
<div class="autorcomentario">
<strong>Moesis</strong>
</div>
<p>Saludos,</p>
<p>Muy buen tutorial, la verdad que aclara mucho de este complejo framework y el proceso de seguridad.</p>
<p>Sigo los pasos que pones, pero cuando me voy a logear me dice “The presented password is invalid” pero no veo cuál es el problema, pues he revisado todo exhaustivamente y no sé por donde pueden venir los tiros. ¿Podrías darme una pista?</p>
<p>Gracias por tu sabiduría.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197031" title="enlace a este comentario">27.06.2012 - 12:29</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-197165">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197165">18</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>La única forma es que no implementaras el código extra en el controlador de Usuarios, revisa en la Base de datos y verifica que no esté la contraseña, lo ideal es ver un código y que el campo salt tenga valor tambien</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197165" title="enlace a este comentario">09.07.2012 - 14:59</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-197143">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/975175a372e9ce7ff1170228e61f7441?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/975175a372e9ce7ff1170228e61f7441"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197143">19</a></div>
<div class="autorcomentario">
<strong>alejandro</strong>
</div>
<p>me sale error en la consola cuando actualiza las entidades rol y usuario por favor me puede ayudar que pasa,sera que falta algun codigo en security.ymm<br>
c:\wamp\www\Symfony&gt;php app/console doctrine:schema:update –force</p>
<p> [Symfony\Component\Config\Exception\FileLoaderLoadException]</p>
<p> Cannot import resource “C:\wamp\www\Symfony\app/config\security.yml” from “C:\<br>
wamp\www\Symfony\app/config\config.yml”.</p>
<p> [Symfony\Component\Yaml\Exception\ParseException]</p>
<p> Indentation problem in “C:\\wamp\\www\\Symfony\\app\/config\\security.yml” at<br>
line 34 (near ” access_control:”).</p>
<p>este es el codigo en<br>
Symfony\app\config\security.yml</p>
<p>security:<br>
encoders:<br>
Symfony\Component\Security\Core\User\User: plaintext</p>
<p> role_hierarchy:<br>
ROLE_ADMIN: ROLE_USER<br>
ROLE_SUPER_ADMIN: [ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]</p>
<p> providers:<br>
in_memory:<br>
users:<br>
user: { password: userpass, roles: [ 'ROLE_USER' ] }<br>
admin: { password: adminpass, roles: [ 'ROLE_ADMIN' ] }</p>
<p> firewalls:</p>
<p> dev:<br>
pattern: ^/(_(profiler|wdt)|css|images|js)/<br>
security: false</p>
<p> login:<br>
pattern: ^/demo/secured/login$<br>
security: false</p>
<p> secured_area:<br>
pattern: ^/demo/secured/<br>
form_login:<br>
check_path: /demo/secured/login_check<br>
login_path: /demo/secured/login<br>
logout:<br>
path: /demo/secured/logout<br>
target: /demo/<br>
#anonymous: ~<br>
#http_basic:<br>
# realm: “Secured Demo Area”</p>
<p> access_control:<br>
#- { path: ^/login, roles: IS_AUTHENTICATED_ANONYMOUSLY, requires_channel: https }<br>
#- { path: ^/_internal, roles: IS_AUTHENTICATED_ANONYMOUSLY, ip: 127.0.0.1 }</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197143" title="enlace a este comentario">07.07.2012 - 16:54</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-197166">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/9b6840abfedc19dc4045842c497e10aa?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/9b6840abfedc19dc4045842c497e10aa"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197166">20</a></div>
<div class="autorcomentario">
<strong><a href="http://maycolalvarez.com/" rel="external nofollow" class="url">Maycol Alvarez</a></strong>
</div>
<p>es un error de sintaxis YML, recuerda que en YML no se deben usar TAB’s sino espacios en blanco, además intenta usar un editor como NetBeans que te permita colorear el código para detectar el error más fácilmente</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197166" title="enlace a este comentario">09.07.2012 - 15:01</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-197174">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/975175a372e9ce7ff1170228e61f7441?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/975175a372e9ce7ff1170228e61f7441"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197174">21</a></div>
<div class="autorcomentario">
<strong>alejo</strong>
</div>
<p>buen dia, me puede ayudar con el siguiente error cuando intento crear en la base de datos role y user me sale esto que no se puede actualizar porque la BD se encuentra sincronizada actualmene con entity metadadata pero no me creo las tablas role y user y no se porque<br>
—————————————————————————————————<br>
c:\wamp\www\Symfony&gt;php app/console doctrine:schema:update –force<br>
Nothing to update – your database is already in sync with the current entity met<br>
adata.<br>
———————————————————————————————————-<br>
de antemano agradezco la atencion prestada</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197174" title="enlace a este comentario">09.07.2012 - 18:20</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-197279">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/4db59b9c9f4b35f9ff84e8274e6bcc7d?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/4db59b9c9f4b35f9ff84e8274e6bcc7d"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197279">22</a></div>
<div class="autorcomentario">
<strong>silviaez</strong>
</div>
<p>Hola alejo, he tenido el mismo problema que tu en este punto.<br>
Si has estado siguiendo el curso hasta aquí se habremos creado un Bundle llamado MDWDemoBundle y si te fijas en el código que nos adjunta Maycol para crear los entities Role y User utiliza BlogBundle (imagino que él debia estar haciendo su propio ejemplo mientras escribia este capítulo :P)</p>
<p>Para mi ha funcionado cambiando en los entities<br>
- el namespace<br>
de: namespace MDW\BlogBundle\Entity;<br>
por: namespace MDW\DemoBundle\Entity;</p>
<p>- y los parametros<br>
donde encuentres: @param Maycol\BlogBundle\Entity\Role $userRoles<br>
cambiarlo por: @param MDW\DemoBundle\Entity\Role $userRoles</p>
<p>Entonces ejecutando: php app/console doctrine:schema:update –force<br>
Me ha funcionado a la primera.</p>
<p>Cuidado! hay mas referencias en el código a BlogBundle, solo tienes que cambiarlas con el nombre de Bundle que tu hayas estado utilizando.</p>
<p>Espero que te sirva.<br>
Un saludo,<br>
Silvia</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197279" title="enlace a este comentario">19.07.2012 - 06:18</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197574">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/b07bd86b99a9c28564c414a9ded77b1c?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/b07bd86b99a9c28564c414a9ded77b1c"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197574">23</a></div>
<div class="autorcomentario">
<strong>juan</strong>
</div>
<p>tengo el mismo problema silviaez he comprobado tu respuesta pero da el mismo</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197574" title="enlace a este comentario">02.08.2012 - 09:49</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-197308">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/62641fcde3783f36e54c6b6964f9da8f?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/62641fcde3783f36e54c6b6964f9da8f"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197308">24</a></div>
<div class="autorcomentario">
<strong>Roberth</strong>
</div>
<p>Buen dia, tengo un problema con respecto a la seguridad en symfony. </p>
<p>Tengo dos aplicaciones web y cada aplicación tiene su seguridad separada con sus tablas y base de datos diferente, el problema esta cuando hago login en una aplicacion y quiero hacerlo en la otra me da el siguiente error:</p>
<p>Fatal error: Symfony\Component\Security\Core\Role\RoleHierarchy::getReachableRoles(): The script tried to execute a method or access a property of an incomplete object. Please ensure that the class definition “Ericsson\AplicacionesBundle\Entity\Rol” of the object you are trying to operate on was loaded _before_ unserialize() gets called or provide a __autoload() function to load the class definition in C:\Apache2.2\htdocs\Ericsson\vendor\symfony\src\Symfony\Component\Security\Core\Role\RoleHierarchy.php on line 47</p>
<p>las dos aplicaciones tan en el mismo servidor..</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197308" title="enlace a este comentario">19.07.2012 - 12:49</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197441">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/975175a372e9ce7ff1170228e61f7441?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/975175a372e9ce7ff1170228e61f7441"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197441">25</a></div>
<div class="autorcomentario">
<strong>alejandro</strong>
</div>
<p>necesito ayuda he realizado todo el proceso que se plantea en este tutorial. pero cuando acccedo a <a href="http://localhost/Symfony/web/app_dev.php/admin/user" rel="nofollow">http://localhost/Symfony/web/app_dev.php/admin/user</a> me sale el siguiente error: que no hay proveedor de usuario para ese usuario,pues yo cree los usuarios en la base de datos o donde habia que crear los usuarios<br>
——————————————————————————————————–<br>
There is no user provider for user “Symfony\Component\Security\Core\User\User”.There is no user provider for user “Symfony\Component\Security\Core\User\User”.<br>
————————————————————————————————</p>
<p>agradezco de antemano la atencion prestada</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197441" title="enlace a este comentario">23.07.2012 - 16:00</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197493">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/d14367f40f2e143ed899f4620132c7c4?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/d14367f40f2e143ed899f4620132c7c4"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197493">26</a></div>
<div class="autorcomentario">
<strong>Juancho</strong>
</div>
<p>Tengo una base de datos que esta en produccion y ademas en reevision para adaptarla y dar mas funcionamiento. Mi pregunta es la siguiente. ¿Es posible adaptar todo esto aprendido en los cursos cuando uno tiene un proyecto que ya lleva años pero siempre inconcluso y ademas con muchos datos que se deben reestructurar?. Es una pequeña base de datos en access que fue creciendo y ya tiene 20 años de datos dentro pero nunca les intereso replantear toda la base ni sus servicios?. Soy administrativo avanzado con manejo de base de datos en access y mysql, php, visual basic 6 y he estudiado por mi cuenta programacion orientada a objetos. Me da la sensacion que para hacer utilizar y explotar todas estas herramientas uno deberia encarar el trabajo sabiendo los limites y no a media marcha. ¿que me dices tu a esto?. Tu sabes que soy administrativo y fui implementando soluciones sin tener un apoyo institucional de donde trabajo. Atodos les gusta hacer las cosas rapido pero nadie quiere invertir en nada. Tengo una aplicacion access y una intranet que muestra informes. Desde access tambien saco listados complejos.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197493" title="enlace a este comentario">27.07.2012 - 08:47</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197536">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/c6a4dd9cd22990c853dcdf657914ba22?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/c6a4dd9cd22990c853dcdf657914ba22"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197536">27</a></div>
<div class="autorcomentario">
<strong>Victor</strong>
</div>
<p>Tengo una consulta, esto me funciono todo correctamente, muchas gracias. Mi panorama es el siguiente, yo realice la conexión con la base de datos, este se loguea correctamente con ella, lo que no he logrado es lo siguiente:</p>
<p>- Obtener los datos se la sesion activa, nombre de usuario fecha de logeo, etc.<br>
- Cerrar sesion, implemente en la twig dentro de un boton : path(‘logout’) y en security: </p>
<p> logout:<br>
path: /logout<br>
delete_cookies:<br>
target: /login<br>
invalidate_session: false</p>
<p>El problema se da al momento, por ejemplo de cerrar el explorador, y volver a entrar este sigue logeado, al pasar un rato, ciertos minutos, me gustaría que se cerrara la sesión, y al presionar el botón y cerrar la sesión, esta se debería cerrar pero al acceder al index esta sigue abierta.</p>
<p>Podrían ayudarme por favor, lo agradecería mucho.</p>
<p>Saludos.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197536" title="enlace a este comentario">30.07.2012 - 09:07</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197590">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/b07bd86b99a9c28564c414a9ded77b1c?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/b07bd86b99a9c28564c414a9ded77b1c"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197590">28</a></div>
<div class="autorcomentario">
<strong>juan</strong>
</div>
<p>yo tengo un problema y no se resolverlo el problema es que cuando pongo el comandophp app\console doctrine:generate:crud – me pregunta el nombre – yo pongo e nombre yo pongo nombre MDWwebBunde:User como del manual y me da error class MDW \webBundle\Entity\User is not valid cual puede ser el problema ¿?</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197590" title="enlace a este comentario">04.08.2012 - 03:18</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197627">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/a41d848df2c8cfabbcebe68300465fc8?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/a41d848df2c8cfabbcebe68300465fc8"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197627">29</a></div>
<div class="autorcomentario">
<strong>Nicolás</strong>
</div>
<p>Mi consulta es la siguiente:<br>
En un formulario, quiero que se muestren ciertos campos dependiendo del role con el que entra el usuario. Por ejemplo, si el usuario tiene el role admin puede ver todos los campos de un formulario, pero si tiene role usuario, solo puede ver algunos campos del mismo formulario para la carga del mismo.<br>
Espero se haya entendido, agradezco la ayuda</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197627" title="enlace a este comentario">07.08.2012 - 12:31</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197695">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/38b719e414488f1a83149c11ed67faea?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/38b719e414488f1a83149c11ed67faea"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197695">30</a></div>
<div class="autorcomentario">
<strong>ISABEL</strong>
</div>
<p>Mi consulta es la siguiente:<br>
He creado los dos reles ROLE_ADMIN y ROLE_USER, un usuario con ROLE_ADMIN y un usuario con ROLE_USER, al autentificarse no me reconece ninguno de los dos, cuando creo los usuarios desde phpMyAdmin, hay que seleccionar alguna funcion para el campo password y/o salt. Por favor, alguien me puede ayudar.<br>
Gracias.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197695" title="enlace a este comentario">13.08.2012 - 15:40</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197715">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/f5621cc056c15b92f9fc5c290612f49a?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/f5621cc056c15b92f9fc5c290612f49a"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197715">31</a></div>
<div class="autorcomentario">
<strong>Diego</strong>
</div>
<p>Realice el ejemplo de este capitulo completo y todo funciono correctamente, pero al final, cuando me logeo en la aplicación con cualquier usuario me aparece este error<br>
Fatal error: Call to a member function getRole() on a non-object in C:\xampp\htdocs\symfony\vendor\symfony\src\Symfony\Component\Security\Core\Role\RoleHierarchy.php on line 47<br>
por lo que e visto este error es a causo de php 5.4<br>
no se como solucionarlo, me prodrian ayudar. Gracias</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197715" title="enlace a este comentario">14.08.2012 - 12:31</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-197833">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/cf13bac4270c2e2e40efb281d408a929?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/cf13bac4270c2e2e40efb281d408a929"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197833">32</a></div>
<div class="autorcomentario">
<strong>voce</strong>
</div>
<p>Con el ejercicio 1 me sale el siguiente error, donde prodria estar la falla.<br>
Unable to find template “MDWDemoBundle:Default:articulos.html.twig”</p>
<p>saludos</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-197833" title="enlace a este comentario">25.08.2012 - 17:24</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-198332">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/65e29f8cb7475c268c65d86629548c8d?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/65e29f8cb7475c268c65d86629548c8d"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198332">33</a></div>
<div class="autorcomentario">
<strong>Merys</strong>
</div>
<p>Buenas. Agradezco el tutorial, me ha ayudado mucho. Tengo el siguiente problema cuando edito el archivo security.yml y trato de acceder a <a href="http://localhost/Symfony/web/app_dev.php/admin/login" rel="nofollow">http://localhost/Symfony/web/app_dev.php/admin/login</a> me sale el siguiente error (muy feo por cierto):</p>
<p>InvalidConfigurationException: Unrecognized options “user_db” under “security.encoders.providers”</p>
<p> in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/ArrayNode.php line 268<br>
at ArrayNode-&gt;normalizeValue() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/BaseNode.php line 195<br>
at BaseNode-&gt;normalize() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/PrototypedArrayNode.php line 225<br>
at PrototypedArrayNode-&gt;normalizeValue() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/BaseNode.php line 195<br>
at BaseNode-&gt;normalize() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/ArrayNode.php line 260<br>
at ArrayNode-&gt;normalizeValue() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/BaseNode.php line 195<br>
at BaseNode-&gt;normalize() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/Processor.php line 35<br>
at Processor-&gt;process() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/Config/Definition/Processor.php line 52<br>
at Processor-&gt;processConfiguration() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/HttpKernel/DependencyInjection/Extension.php line 101<br>
at Extension-&gt;processConfiguration() in /var/www/Symfony/vendor/symfony/src/Symfony/Bundle/SecurityBundle/DependencyInjection/SecurityExtension.php line 53<br>
at SecurityExtension-&gt;load() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/DependencyInjection/Compiler/MergeExtensionConfigurationPass.php line 42<br>
at MergeExtensionConfigurationPass-&gt;process() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/HttpKernel/DependencyInjection/MergeExtensionConfigurationPass.php line 39<br>
at MergeExtensionConfigurationPass-&gt;process() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/DependencyInjection/Compiler/Compiler.php line 119<br>
at Compiler-&gt;compile() in /var/www/Symfony/vendor/symfony/src/Symfony/Component/DependencyInjection/ContainerBuilder.php line 437<br>
at ContainerBuilder-&gt;compile() in /var/www/Symfony/app/bootstrap.php.cache line 872<br>
at Kernel-&gt;buildContainer() in /var/www/Symfony/app/bootstrap.php.cache line 783<br>
at Kernel-&gt;initializeContainer() in /var/www/Symfony/app/bootstrap.php.cache line 517<br>
at Kernel-&gt;boot() in /var/www/Symfony/app/bootstrap.php.cache line 548<br>
at Kernel-&gt;handle() in /var/www/Symfony/web/app_dev.php line 27</p>
<p>He buscado y no aparece ninguna coincidencia en google. Me pueden ayudar.? Gracias</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198332" title="enlace a este comentario">22.09.2012 - 19:06</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-198333">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/65e29f8cb7475c268c65d86629548c8d?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/65e29f8cb7475c268c65d86629548c8d"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198333">34</a></div>
<div class="autorcomentario">
<strong>Merys</strong>
</div>
<p>Ya pude resolver. Pero ahora hay ago que no entiendo, cuando ingreso nombre de usuario y contraseña en el ejercicio se define a donde ingresa el usuario.? estoy nueva con symfony disculpen, pero no entiendo en qué sitio se indica la página a la que debe ir el usuario una vez que logueado. Espero que alguien me pueda ayudar. Gracias</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198333" title="enlace a este comentario">22.09.2012 - 20:26</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-198387">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/3a0b72fda626f1db78edf45c8ce5bb06?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/3a0b72fda626f1db78edf45c8ce5bb06"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198387">35</a></div>
<div class="autorcomentario">
<strong>Javier</strong>
</div>
<p>hola Maycol, muy bueno el tuto… sigo todos los pasos, pero al querer entrar en localhost/app_dev.php/login me sale este error: Unable to find template MyBundle:Security:login.html.twig”. 500 Internal Server Error – InvalidArgumentException<br>
3 linked Exceptions:<br>
y cuando kiero entrar a localhost/app_dev.php/admin/user me sale este error :<br>
No route found for “GET /admin/user”</p>
<p>ayuda porfas… ya he mirado todos los pasos varias veces y no logro solucionarlo…<br>
Muchas gracias<br>
Javier</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198387" title="enlace a este comentario">26.09.2012 - 08:01</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-198388">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/3a0b72fda626f1db78edf45c8ce5bb06?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/3a0b72fda626f1db78edf45c8ce5bb06"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198388">36</a></div>
<div class="autorcomentario">
<strong>Javier</strong>
</div>
<p>listo…fue error mio al crear login.html.twig le puse un espacio en blanco al final del nombre.. por eso nunca lo encontraba…….<br>
gracias</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198388" title="enlace a este comentario">26.09.2012 - 08:27</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-198597">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/5cb37590da14754c23c42a0bc14be40e?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/5cb37590da14754c23c42a0bc14be40e"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198597">37</a></div>
<div class="autorcomentario">
<strong>amado Jose</strong>
</div>
<p>estoy siguiendo la guía y cuando trato de hacer login con los usuarios que creo me sale este error:</p>
<p> Fatal error: Call to a member function getRole() on a non-object in C:\xampp\htdocs\Symfony\vendor\symfony\src\Symfony\Component\Security\Core\Role\RoleHierarchy.php on line 47</p>
<p>…todo lo demás me sale bien.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198597" title="enlace a este comentario">06.10.2012 - 11:56</a>
</small>
</div>
</div>
<ol class="children">
<li class="comment" id="comment-199814">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/f9a979799cd3b74c92a269278a029e61?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/f9a979799cd3b74c92a269278a029e61"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-199814">38</a></div>
<div class="autorcomentario">
<strong>jose miguel</strong>
</div>
<p>Amado, estoy como tu, has podido resolver el problema? te agradecería si tienes la solución que la compartas.</p>
<p>gracias.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-199814" title="enlace a este comentario">17.11.2012 - 01:37</a>
</small>
</div>
</div>
</li> 
</ol> 
</li> 
<li class="comment" id="comment-198954">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/78dd8c48d5bf5ec1658742c9c519a7be?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/78dd8c48d5bf5ec1658742c9c519a7be"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198954">39</a></div>
<div class="autorcomentario">
<strong>luis fernando</strong>
</div>
<p>buenas me gustaría me ayudaran con un problema, como tal la aplicación funciona perfectamente el problema que tengo o no se que es lo que debo hacer para continuar va en esto: </p>
<p>cuando realizo el Paso 3: Creando el esquema de seguridad ya sabiendo que puedo crear, editar… desde los cruds web voy a la ruta especifica para acceder al nuevo crud para realizar el logeo en la aplicación </p>
<p>ponga lo que ponga en las </p>
<p>en la direccion <a href="http://localhost/" rel="nofollow">http://localhost/</a>“”/app_dev.php/QM/admin/login</p>
<p>y al dar en el botón para que este envié la información el único cambio que veo es que<br>
la dirección <a href="http://localhost/" rel="nofollow">http://localhost/</a>“”/app_dev.php/QM/admin/login</p>
<p>CAMBIA A ESTA NUEVA DIRECCIÓN SIN DAR MENSAJE DE ERROR NI NADA</p>
<p> <a href="http://localhost/" rel="nofollow">http://localhost/</a>“”/app_dev.php/QM/admin/login_check</p>
<p>y yo deseo que me redirija a la dirección donde se encuentra el crud de User que se crea en este tutorial por ejemplo.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-198954" title="enlace a este comentario">18.10.2012 - 01:04</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-199075">
<div class="wrap ">
<div class="leftarea">
<img alt="" data-cfsrc="http://0.gravatar.com/avatar/2d1d6f3247affca1f43382b6ed41b19b?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/2d1d6f3247affca1f43382b6ed41b19b"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-199075">40</a></div>
<div class="autorcomentario">
<strong>Sergiohcis</strong>
</div>
<p>Muy bueno el articulo y sus respuestas de Maycol, espero pueda indicarme a mi como hacer.<br>
Yo quisiera que mi app validara el usuario y el password viendo si la propia combinacion se conecta al Gestor de Base de Datos. Me explico mejor: Mi user y password para conectarme a la base de datos PostgreSQL son: user “postgres” y password “adminpgsql”, me gustaria que symfony2 me logueara en el sistema si el usuario y el password son estos. Esto es posible ??<br>
Me puede decir como proceder ???<br>
Desde ya muchas gracias…</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-199075" title="enlace a este comentario">22.10.2012 - 07:22</a>
</small>
</div>
</div>
</li> 
<li class="comment" id="comment-199522">
<div class="wrap altt">
<div class="leftarea">
<img alt="" data-cfsrc="http://1.gravatar.com/avatar/b458c72946cbb51e53a298d16c7a43f0?s=40&amp;d=http%3A%2F%2Fwww.maestrosdelweb.com%2Fwp-content%2Fthemes%2Fmdw2%2Fimages%2Fno-avatar.gif%3Fs%3D40&amp;r=G" class="avatar avatar-40 photo" height="40" width="40" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/b458c72946cbb51e53a298d16c7a43f0"></div>
<div class="rightarea">
<div class="numero"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-199522">41</a></div>
<div class="autorcomentario">
<strong>Fernando</strong>
</div>
<p>Hola, excelente toda la guia, me resulto muy util. Tengo un problema, y quizas es muy basico lo que voy a preguntar pero recien estoy arrancando y no me doy mucha maña con el tema: como se hace para generar una pagina luego de que se creo un usuario, donde se recuperen los datos del usuario que se acaba de crear y publique un texto que diga “el usuario ‘tal’ (con el campo username por dar un ejemplo cualquiera) se creo exitosamente”. Es decir como recupero el usuario y plasmo sus datos en una pagina. El mismo problema tengo para un usuario que se acaba de loguear, como recupero el usuario logueado y que publique “el usuario x se ha logueado exitosamente”. Espero que alguno pueda ayudarme, desde ya muchisimas gracias.</p>
<small class="commentmetadata"><a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#comment-199522" title="enlace a este comentario">07.11.2012 - 20:43</a>
</small>
</div>
</div>
</li> 
</ol>
</div>  
<p class="enc_mensaje no-print">Los comentarios de este post están cerrados. Si quieres seguir la discusión, debatir,
criticar, sugerir o expandir el tema te invitamos a hacerlo en tu propio blog, en twitter o donde puedas publicar.
No olvides enlazar a este post para que sigamos la conversación y se genere un trackback.</p>
<div id="trackbacks" class="no-print">
<div class="trackp"><a name="trackbacks">2</a></div>
<h3>Trackbacks</h3>
<ol class="trackbacklist">
<li id="comment-196433" class="track">
<a href="http://blog.micayael.com/2012/05/23/guia-de-symfony2-seguridad-acceso-autorizacion-autenticacion/" rel="external nofollow" class="url">Guía de Symfony2 – Capítulo 13 – Seguridad de Acceso | micayael</a>
</li>
<li id="comment-196441" class="track">
<a href="http://blog.micayael.com/2012/05/23/guia-de-symfony2-maestros-del-web-indice-de-capitulos/" rel="external nofollow" class="url">Guía de Symfony2 – Maestros del Web – Indice de capítulos | micayael</a>
</li>
</ol>
</div> 
</div>
</section>
</div>
<div class="finArticulo"></div>
</div></section>
<section><div class="areaVermas navFinalInternas"><div class="contenido">
<a href="http://www.maestrosdelweb.com/" class="btnPortada"><span class="icono"></span>Ir a portada</a>
<a href="http://www.maestrosdelweb.com/editorial/curso-symfony2-seguridad-de-acceso/#container" class="btnIrArriba"><span class="icono"></span>Ir arriba</a>
</div></div></section>
<footer><div class="contenido">
<div class="col mapaWeb">
<h3>Nosotros</h3>
<ul>
<li><a href="http://www.maestrosdelweb.com/sitio/creditos/">Créditos</a></li>
<li><a href="http://www.maestrosdelweb.com/sitio/correo">Contacto</a></li>
<li><a href="http://www.maestrosdelweb.com/index.xml">Feed RSS</a></li>
</ul>
<h3>Proyectos</h3>
<ul>
<li><a href="http://www.forosdelweb.com/">Foros del web</a></li>
<li><a href="http://mejorando.la/">Mejorando la web</a></li>
<li><a href="http://www.120segundos.com/">120 Segundos</a></li>
</ul>
<h3>Legal</h3>
<ul>
<li><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es">Licencia CC del contenido</a></li>
<li><a href="http://www.maestrosdelweb.com/politica-de-privacidad/">Política de privacidad</a></li>
</ul>
<h3>CMS</h3>
<ul>
<li><a href="http://wordpress.org/">Wordpress</a></li>
</ul>
</div>
<div class="col">
<h3>Acerca de Maestros del web</h3>
<p>Maestros del Web está online desde 1997. Somos un espacio de apoyo y difusión del buen diseño y desarrollo web. Lideramos, reclutamos y educamos a los entusiastas de la web hispana.</p>
<p><a href="http://www.maestrosdelweb.com/sitio/creditos">Leer más de Maestros del Web</a></p>
</div>
</div></footer>
</div>


 <iframe name="oauth2relay495789311" id="oauth2relay495789311" src="./Curso Symfony 2  Seguridad de acceso  Maestros del Web_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><script id="twitter-csp-test"></script></body></html>